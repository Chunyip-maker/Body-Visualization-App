<!DOCTYPE html>
{% include 'flashed_message.html' %}
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../static/fonts/material-design-iconic-font/css/material-design-iconic-font.css">

    <!-- DATE-PICKER -->
    <link rel="stylesheet" href="../static/vendor/date-picker/css/datepicker.min.css">

    <!-- STYLE CSS -->
    <link rel="stylesheet" href="../static/css/step3.css">
    <title>Body Virtualisation APP - Step 3</title>

    <script type="importmap">
        {
            "imports": {
            "three": "https://unpkg.com/three@0.143.0/build/three.module.js"
            }
        }
    </script>

    <script type="module" src="/static/js/THREEController.js"></script>
</head>

<body>
    <p id="hair_color" style="display: none">{{ model_texture[0] }}</p>
    <p id="skin_color" style="display: none">{{ model_texture[1] }}</p>
    <p id="top_dress" style="display: none">{{ model_texture[2] }}</p>
    <p id="bottom_dress" style="display: none">{{ model_texture[3] }}</p>


    <!-- Main Area -->
    <div class="main">
        <div id="canvas">

        </div>


        <div class="right">
            <div class="slider-box">
                <div class="slider">
                    <input type="range" name="height" min="120" max="210" value="165" class="slider" id="a1">
                </div>
                <span id="b1"></span>
                <span>height</span>
            </div>



            <div class="slider-box">
                <div class="slider">
                    <input type="range" name="weight" min="30" max="100" value="65" class="slider" id="a2">
                </div>
                <span id="b2"></span>
                <span>weight</span>
            </div>

            <div class="slider-box">
                <div class="slider">
                    <input type="range" name="chest" min="75" max="101" value="88" class="slider" id="a3">
                </div>

                <span id="b3"></span>
                <span>chest</span>
            </div>


            <div class="slider-box">
                <div class="slider">
                    <input type="range" name="waist" min="40" max="70" value="55" class="slider" id="a4">

                </div>

                <span id="b4"></span>
                <span>waist</span>
            </div>


            <div class="slider-box">
                <div class="slider">
                    <input type="range" name="hip" min="75" max="101" value="88" class="slider" id="a5">

                </div>
                <span id="b5"></span>
                <span>hip</span>
            </div>



            <div class="slider-box">
                <div class="slider">

                    <input type="range" name="arm_girth" min="12" max="34" value="23" class="slider" id="a6">

                </div>
                <span id="b6"></span>
                <span>arm_girth</span>
            </div>



            <div class="slider-box">
                <div class="slider">
                    <input type="range" name="thigh" min="40" max="70" value="55" class="slider" id="a7">

                </div>
                <span id="b7"></span>
                <span>thigh</span>
            </div>



            <div class="slider-box">
                <div class="slider">
                    <input type="range" name="shank" min="25" max="49" value="37" class="slider" id="a8">
                </div>
                <span id="b8"></span>
                <span>shank</span>
            </div>


            <script>
                const rangeInputs = document.querySelectorAll('input[type="range"]')
                const numberInput = document.querySelector('input[type="number"]')

                function handleInputChange(e) {
                    let target = e.target
                    if (e.target.type !== 'range') {
                        target = document.getElementById('range')
                    }
                    const min = target.min
                    const max = target.max
                    const val = target.value

                    target.style.backgroundSize = (val - min) * 100 / (max - min) + '% 100%'
                }

                rangeInputs.forEach(input => {
                    input.addEventListener('input', handleInputChange)
                })

                numberInput.addEventListener('input', handleInputChange)
            </script>

        </div>

    </div>
    <form class="next" action="/step3" method='POST'>
        <button>
            Next
        </button>
    </form>

    <form class="logout" action="/logout" method='GET'>
        <button>
            Logout
        </button>
    </form>




    <script type="module">


    </script>


    </div>

</body>

</html>